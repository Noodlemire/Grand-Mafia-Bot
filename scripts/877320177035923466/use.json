{"userexec":true,"lines":["!var me {!num}","!if {me} = None","!throw You are not a registered player! Please use `!e new_game` first.","!end","!if {!exists 1} = False","!throw You must name an item to use.","!else","!var item {1}","!var qty 1","!for i 2 {#}","!var item {item} {{i}}","!end","!foreach i v {!split : {item}}","!if {i} = 1","!var item {!arg {v}}","!else","!var qty {v}","!end","!end","!end","!if {!is_int {qty}} = True and {qty} >= 1","!var id ID{!data item {item} id}","!if {!is {me} inv_{id}} = False or {!tag {me} inv_{id}} < {qty}","!throw You do not have {qty}x {item} to use.","!end","!if {!data item {item} params use_type} = Preparation","!if {!tag {me} battle} = true","!throw You must use this item outside of battle.","!end","!else {!data item {item} params use_type} = Battle","!if {!tag {me} battle} = false","!throw You must use this item during a battle.","!end","!else","!throw You cannot use {item} this way.","!end","!for i 1 {qty}","!say {!e {!data item {item} meta on_use} {me} {!data item {item} meta args}}","!tag {me} inv_{id} {!sub {!tag {me} inv_{id}} 1}","!end","!else","!throw The quantity you provide must be a positive whole number!","!end"]}