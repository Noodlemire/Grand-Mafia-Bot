{"userexec":true,"lines":["!var me {!num}","!if {me} = None","!throw You are not a registered player! Please use `!e new_game` first.","!end","!if {!tag {me} battle} = true","!throw You cannot craft anything in the middle of battle.","!end","!if {!exists 1} = False","!throw Usage: !e craft <item> [amount]","!end","!var item {1}","!if {!is_int {{#}}} = True","!var qty {{#}}","!var last {!sub {#} 1}","!else","!var qty 1","!var last {#}","!end","!for i 2 {last}","!var item {item}_{{i}}","!end","!if {!is_int {qty}} = True and {qty} >= 1","!var iid ID{!data item {item} id}","!var cid ID{!data craft {item} id}","!var error You are missing:","!for i 1 {!data craft {cid} meta costs}","!var next {!data craft {cid} meta cost_item_{i}}","!var nqty {!mult {qty} {!data craft {cid} meta cost_amount_{i}}}","!if {!is {me} inv_{next}} = False or {!tag {me} inv_{next}} < {nqty}","!var error {error}\n{nqty}x {!data item {next} params emoji} {!data item {next} title}","!end","!end","!if {error} != {You are missing:}","!throw {error}","!end","!for i 1 {!data craft {cid} meta costs}","!var next {!data craft {cid} meta cost_item_{i}}","!var nqty {!mult {qty} {!data craft {cid} meta cost_amount_{i}}}","!tag {me} inv_{next} {!sub {!tag {me} inv_{next}} {nqty}}","!var slot {!data item {next} params equip_type}","!if {!tag {me} inv_{next}} = 0 and {!tag {me} equip_{slot}} = {!data item {next} params emoji}","!if {slot} = Weapon","!tag {me} equip_weapon ❌","!tag {me} min_attack {!add {!tag {me} min_attack} 2}","!tag {me} max_attack {!add {!tag {me} max_attack} 4}","!else","!tag {me} equip_{slot} -","!end","!foreach _ v min_attack\nmax_attack\ndefense","!if {!has item {next} {v}} = True","!tag {me} {v} {!sub {!tag {me} {v}} {!data item {next} meta {v}}}","!end","!end","!end","!end","!var rqty {qty}","!if {!has craft {cid} quantity} = True","!var rqty {!mult {qty} {!data craft {cid} meta quantity}}","!end","!if {!is {me} inv_{iid}} = False","!tag {me} inv_{iid} {rqty}","!else","!tag {me} inv_{iid} {!add {!tag {me} inv_{iid}} {rqty}}","!end","!say You gained {rqty}x {!data item {iid} params emoji} {!data item {iid} title}!","!if {iid} = ID24","!var bonus {!mult {rqty} 100}","!say You have earned **+{bonus}** points!","!tag {me} score {!add {!tag {me} score} {bonus}}","!end","!else","!throw The quantity you provide must be a positive whole","!end","!overwrite"]}