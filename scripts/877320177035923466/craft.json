{"userexec":true,"lines":["!var me {!num}","!if {me} = None","!throw You are not a registered player! Please use `!e new_game` first.","!end","!if {!tag {me} battle} = true","!throw You cannot craft anything in the middle of battle.","!end","!if {!exists 1} = False","!throw Usage: !e craft <item>: [amount]","!else","!var item {1}","!var qty 1","!for i 2 {#}","!var item {item} {{i}}","!end","!foreach i v {!split : {item}}","!if {i} = 1","!var item {!arg {v}}","!else","!var qty {v}","!end","!end","!end","!if {!is_int {qty}} = True and {qty} >= 1","!var iid ID{!data item {item} id}","!var cid ID{!data craft {item} id}","!var error You are missing:","!for i 1 {!data craft {cid} meta costs}","!var next {!data craft {cid} meta cost_item_{i}}","!var nqty {!mult {qty} {!data craft {cid} meta cost_amount_{i}}}","!if {!is {me} inv_{next}} = False or {!tag {me} inv_{next}} < {nqty}","!var error {error}\n{nqty}x {!data item {next} params emoji} {!data item {next} title}","!end","!end","!if {error} != {You are missing:}","!throw {error}","!end","!for i 1 {!data craft {cid} meta costs}","!var next {!data craft {cid} meta cost_item_{i}}","!var nqty {!mult {qty} {!data craft {cid} meta cost_amount_{i}}}","!tag {me} inv_{next} {!sub {!tag {me} inv_{next}} {nqty}}","!end","!if {!is {me} inv_{iid}} = False","!tag {me} inv_{iid} {qty}","!else","!tag {me} inv_{iid} {!add {!tag {me} inv_{iid}} {qty}}","!end","!say you gained {qty}x {!data item {iid} params emoji}!","!else","!throw The quantity you provide must be a positive whole","!end"]}