{"userexec":true,"lines":["!var me {!num}","!if {me} = None","!throw You are not a registered player! Please use `!e new_game` first.","!end","!if {!tag {me} battle} = true","!throw You cannot sell anything in the middle of battle.","!end","!if {!exists 1} = False","!throw Usage: !e sell <item> [amount]","!end","!var item {1}","!if {!is_int {{#}}} = True","!var qty {{#}}","!var last {!sub {#} 1}","!else","!var qty 1","!var last {#}","!end","!for i 2 {last}","!var item {item}_{{i}}","!end","!if {!is_int {qty}} = True and {qty} >= 1","!var id ID{!data item {item} id}","!if {!is {me} inv_{id}} = False or {!tag {me} inv_{id}} < {qty}","!throw You do not have {qty}x {item} to sell.","!end","!if {!data item {id} params sell_value} <= 0","!throw You cannot sell {qty}x {!data item {item} title}!","!end","!var gains {!mult {!data item {id} params sell_value} {qty}}","!tag {me} inv_{id} {!sub {!tag {me} inv_{id}} {qty}}","!tag {me} inv_id2 {!add {!tag {me} inv_id2} {gains}}","!say you gained {gains}x 🪙 **Gold**!","!var slot {!data item {id} params equip_type}","!if {!tag {me} inv_{id}} = 0 and {!tag {me} equip_{slot}} = {!data item {id} params emoji}","!if {slot} = Weapon","!tag {me} equip_weapon ❌","!tag {me} min_attack {!add {!tag {me} min_attack} 2}","!tag {me} max_attack {!add {!tag {me} max_attack} 4}","!else","!tag {me} equip_{slot} -","!end","!foreach _ v min_attack\nmax_attack\ndefense","!if {!has item {item} {v}} = True","!tag {me} {v} {!sub {!tag {me} {v}} {!data item {item} meta {v}}}","!end","!end","!end","!else","!throw The quantity you provide must be a positive whole number!","!end","!overwrite"]}