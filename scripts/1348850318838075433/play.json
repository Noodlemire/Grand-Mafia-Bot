{"userexec":true,"lines":["!var me {!num}","!if {me} = None","!throw You are not a registered player!","!else {#} = 0","!throw Usage: !e play <card> [on target 1, target 2, target N...]","!else {!tag {me} hand#} <= 1","!throw You have no cards to play.","!end","!var cdata {1}","!var tcount 0","!for i 2 {#}","!if {on} = found","!if {!exists tdata} = True","!var tdata {tdata} {{i}}","!else","!var tdata {{i}}","!end","!else {{i}} = on","!var on found","!else","!var cdata {cdata} {{i}}","!end","!end","!if {!exists tdata} = True","!foreach i t {!split , {tdata}}","!var t{i} {t}","!var tcount {i}","!end","!end","!var card {!e to_id {cdata}}","!var tgoal {!e targets {card}}","!for i 1 {!tag {me} hand#}","!if {!tag {me} hand{i}} = {card}","!var found true","!var i {!tag {me} hand#}","!end","!end","!if {found} != true","!throw Your hand does not have {!e to_str {card}}","!else {tcount} != {tgoal}","!var err Usage: !e play {cdata}","!if {tgoal} = 1","!var err {err} on <target>","!else","!var err {err} on","!for i 1 {tgoal}","!var err {err} <target {i}>","!if {i} < {tgoal}","!var err {err},","!end","!end","!end","!throw {err}","!end","!var ammo {!e ammo {card}}","!if {!tag {me} ammo} < {ammo}","!throw You must have at least {ammo} Ammo to use this card.","!end","!if {!exists round} = False","!g round 1","!end","!var rid round_{round}_","!if {!exists {rid}#} = False","!g {rid}# 0","!end","!for i 1 {tcount}","!var aid {!e action_id}","!g next {!add {{rid}#} 1}","!g {rid}# {next}","!g {rid}{next} {aid}","!g round_{aid} {round}","!g action_{aid} {next}","!if {!e card_category {card}} = Attack","!say **@{t{i}}** has been attacked! They have until the end of the phase to defend. [{aid}]","!g user_{aid} {me}","!g target_{aid} {t{i}}","!g card_{aid} {card}","!end","!end","!say submission successful.","!e lose_card false {card}","!tag {me} ammo {!sub {!tag {me} ammo} {ammo}}","!overwrite"]}