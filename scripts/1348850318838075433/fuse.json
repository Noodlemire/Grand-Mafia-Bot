{"userexec":true,"lines":["!var usage Usage: !e fuse <card name> and <card name> OR !e fuse <fused card name>","!if {#} = 0","!throw {usage}","!end","!var args {1}","!for i 2 {#}","!var args {args} {{i}}","!end","!foreach i v {!split and {args}}","!if {i} >= 3","!throw You cannot fuse more than 3 cards together.","!end","!var id{i} {!e to_id {v}}","!end","!if {!exists id1} = {!exists id2}","!if {!at 4 {id1}} = NULL and {!at 4 {id2}} = NULL","!var fusion {!e to_id {id1} {id2}}","!else","!throw You cannot fuse cards that are already fused!","!end","!else {!at 4 {id1}} != NULL","!var fusion {id1}","!var id1 {!at 1 {fusion}}{!at 2 {fusion}}","!var id2 {!at 3 {fusion}}{!at 4 {fusion}}","!else","!throw {usage}","!end","!if {!data card {id1} params category} != {!data card {id2} params category}","!throw You cannot fuse cards of different categories!","!end","!var title {!e to_str {fusion}}","!var ammo {!e ammo {fusion}}","!var range {!e card_range {fusion}}","!var category {!e card_category {fusion}}","!var rarity {!e card_rarity {fusion}}","!var targets {!e targets {fusion}}","!var alt_amt 0","!var extras > _ _","!if {category} = Attack","!end","!if {rarity} != Common and {rarity} != Special","!throw You cannot fuse {!data card {card} params rarity} cards!","!end","!foreach _ card {id1}\n{id2}","!if {!has card {card} alt_amt} = True","!var alt_amt {!add {alt_amt} {!data card {card} meta alt_amt}}","!end","!if {!has card {card} status} = True and {!exists statusnote} = False","!var statusnote y","!var extras {extras}\n> -# Status effects take effect the round after application.","!end","!end","!var header **{title}** (Fused {category}, {rarity}, {ammo} Ammo","!if {category} = Attack","!var header {header}, {range} Range)","!else","!var header {header})","!end","!if {targets} = 0","!var desc Target self.","!else {targets} = 1","!var desc Target player.","!else","!var desc Target {targets} players.","!end","!if {category} = Attack","!var extras {extras}\n> -# Can't target self.","!var desc {desc} If they don't defend, deal {!e card_damage {fusion}} damage","!if {!has card {id1} alt_txt} = True","!if {!data card {id1} title} = {!data card {id2} title}","!var alt_amt {!mult {alt_amt} 2}","!var doubled true","!end","!var desc {desc} | {!data card {id1} meta alt_txt}","!end","!if {!has card {id2} alt_txt} = True and {doubled} != true","!var desc {desc} | {!data card {id2} meta alt_txt}","!end","!end","!say > {header}\n> {!e commalist {desc}}.","!if {!arg {extras}} != >____","!say {extras}","!end","!say _ _\nThis is only a preview. If you want to make the card itself, please use `!e fuse_submit {args}`"]}