{"userexec":true,"lines":["!var usage Usage: !e fuse <card name> and <card name> OR !e fuse <fused card name>","!if {#} = 0","!throw {usage}","!end","!var id1 {1}","!for i 2 {#}","!if {found_and} = t","!if {{i}} = and","!throw You cannot fuse 3 different cards together.","!else {!exists id2} = True","!var id2 {id2} {{i}}","!else","!var id2 {{i}}","!end","!else {{i}} = and","!var found_and t","!else","!var id1 {id1} {{i}}","!end","!end","!var id1 {!e to_id {id1}}","!if {!exists id2} = True","!var id2 {!e to_id {id2}}","!end","!if {!exists id1} = {!exists id2}","!if {!isint {!at 3 {id1}}} = True and {!isint {!at 3 {id2}}} = True","!var fusion {!e to_id {id1} {id2}}","!else","!throw You cannot fuse cards that are already fused!","!end","!else {!isint {!at 3 {id1}}} = False","!var fusion {id1}","!var id1 {!at 1 {fusion}}{!at 2 {fusion}}","!var id2 {!at 3 {fusion}}{!at 4 {fusion}}","!else","!throw {usage}","!end","!if {!data card {id1} params category} != {!data card {id2} params category}","!throw You cannot fuse cards of different categories!","!end","!var title {!e to_str {fusion}}","!var ammo {!e ammo {fusion}}","!var range {!e card_range {fusion}}","!var category {!e card_category {fusion}}","!var rarity {!e card_rarity {fusion}}","!var targets {!e targets {fusion}}","!var alt_amt {!e card_alt_amt {fusion}}","!var extras > _ _","!if {rarity} != Common and {rarity} != Special","!throw You cannot fuse {!data card {card} params rarity} cards!","!end","!foreach i card {id1}\n{id2}","!if {id1} != {id2} or {i} = 1 and {!has card {card} ext_txt} = True","!var extras {extras}\n> -# {!data card {card} meta ext_txt}","!end","!if {!has card {card} status} = True and {!exists statusnote} = False","!var statusnote y","!var extras {extras}\n> -# Status effects take effect the round after application.","!end","!end","!var header **{title}** (Fused {category}, {rarity}, {ammo} Ammo","!if {category} = Attack","!var header {header}, {range} Range)","!else","!var header {header})","!end","!if {targets} = 0","!var desc Target self.","!else {targets} = 1","!var desc Target player.","!else","!var desc Target {targets} players.","!end","!if {category} = Attack","!var extras {extras}\n> -# Can't target self.","!var desc {desc} If they don't defend, deal {!e card_damage {fusion}} damage","!else {category} = Defense","!var desc Block {targets} attack","!if {targets} > 1","!var desc {desc}s","!end","!end","!if {!has card {id1} alt_txt} = True","!if {!data card {id1} title} = {!data card {id2} title}","!var alt_amt {!mult {alt_amt} 2}","!var doubled true","!end","!if {doubled} = true and {!has card {id1} double_alt_txt} = True","!var desc {desc} | {!data card {id1} meta double_alt_txt}","!else","!var desc {desc} | {!data card {id1} meta alt_txt}","!end","!end","!if {!has card {id2} alt_txt} = True and {doubled} != true","!var desc {desc} | {!data card {id2} meta alt_txt}","!end","!say > {header}\n> {!e commalist {desc}}.","!if {!arg {extras}} != >____","!say {extras}","!end","!say _ _\nThis is only a preview. If you want to make the card itself, please use `!e fuse_submit {args}`"]}